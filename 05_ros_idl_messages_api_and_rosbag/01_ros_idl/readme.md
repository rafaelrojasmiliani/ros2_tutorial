
## ROS idl: Interface Definition Language

The rosidl API consists of message-related static functions and types along with a definition of what code should be generated by messages in different languages.
The generated message code specified in the API contains things like the message data structure, functions for construction, destruction, etc.
The API will also implement a way to get the type support structure for the message type, which is used when publishing or subscribing to a topic of that message type.

There are several repositories that play a role in the rosidl API and implementation.

The rosidl repository, located on GitHub at ros2/rosidl, defines the message IDL syntax, i.e. syntax of .msg files, .srv files, etc., and contains packages for parsing the files, for providing CMake infrastructure to generate code from the messages, for generating implementation agnostic code (headers and source files), and for establishing the default set of generators. The repository contains these packages:



* [`rosidl_adapter`](https://github.com/ros2/rosidl/tree/humble/rosidl_adapter) API and scripts to parse `.msg`/`.srv`/`.action` files and convert them to `.idl`
* [`rosidl_cmake`](https://github.com/ros2/rosidl/tree/humble/rosidl_cmake) CMake functionality to invoke code generation for ROS interface files
* [`rosidl_generator_c`](https://github.com/ros2/rosidl/tree/humble/rosidl_generator_c) Generate the ROS interfaces in C
* [`rosidl_generator_cpp`](https://github.com/ros2/rosidl/tree/humble/rosidl_generator_cpp) Generate the ROS interfaces in C++
* [`rosidl_parser`](https://github.com/ros2/rosidl/tree/humble/rosidl_parser) Parser for `.idl` ROS interface files
* [`rosidl_runtime_c`](https://github.com/ros2/rosidl/tree/humble/rosidl_runtime_c) Provides definitions, initialization and finalization functions, and macros for getting and working with rosidl typesupport types in C
* [`rosidl_runtime_cpp`](https://github.com/ros2/rosidl/tree/humble/rosidl_runtime_cpp) Provides definitions and templated functions for getting and working with rosidl typesupport types in C++
* [`rosidl_typesupport_interface`](https://github.com/ros2/rosidl/tree/humble/rosidl_typesupport_interface) Interface for rosidl typesupport packages
* [`rosidl_typesupport_introspection_c`](https://github.com/ros2/rosidl/tree/humble/rosidl_typesupport_introspection_c) Generate the message type support for dynamic message construction in C
* [`rosidl_typesupport_introspection_cpp`](https://github.com/ros2/rosidl/tree/humble/rosidl_typesupport_introspection_cpp) Generate the message type support for dynamic message construction in C++

* for instrospection see [here](https://github.com/ros2/ros2/issues/1285)
* move info [here](https://answers.ros.org/question/291808/how-to-hook-a-new-idl-generator/)

Generators for other languages, e.g. `rosidl_generator_java`, , are hosted externally (in different repositories) but would use the same mechanism that the above generators use to “register” themselves as a rosidl generator.

Type support refers to the ability to interpret and manipulate the information represented by ROS message instances of particular types (publishing the messages, for example).
Type support can either be provided by code that is generated at compile time or it can be done programmatically based on the contents of the rosidl file, e.g. the .msg or .srv file, and the data received, by introspecting the data.
In the case of the latter, where type support is done through runtime interpretation of the messages, the message code generated by ROS 2 can be agnostic to the rmw implementation.


In the case where type support is to be generated at compile time instead of being generated programmatically, a package specific to the rmw implementation will need to be used.
This is because typically a particular rmw implementation will require data to be stored and manipulated in a manner that is specific to the DDS vendor in order for the DDS implementation to make use of it. See the Type Specific Interfaces section above for more details.

For more information on what exactly is in the rosidl API (static and generated) see this page:
